<div>
	<div class="modal-content">

		<div class = "modal-header">
			<h4 class = "modal-title">Purchase Order Information</h4>
			<button type="button" class="close" ng-click="close()">&times;</button>
		</div>
		
		<div class = "modal-body">
			<form class = "form-inline" ng-submit="savePurchaseOrder()" ng-init="purchaseOrder.purchaseOrderId = {}">
				
				<div class="container">
				
					<div class = "form-group row" >
						<div class = "col-5">
							<label for="companyName">Company</label>
						</div>
						<div class = "col-7">
						<select 
							class = "form-control" 
							ng-model = "purchaseOrder.company" 
							ng-options="company as company.companyName for company in companies | orderBy: 'companyName' track by company.companyId"
							ng-change="onCompanySelect(company)" 
							required
							autofocus>
							<option value="">--Select One--</option>
						</select>
						</div>
					</div>
					
					<div class = "form-group row" ng-show="purchaseOrder.company">
						<div class = "col-5">
							<label for="registrationStatus">Site Name </label>
						</div>
						<div class = "col-7">
							<select 
								class = "form-control select" 
								ng-model = "purchaseOrder.site" 
								ng-options="site as site.siteName for site in sites | orderBy: 'siteName' track by site.siteId.siteId+site.siteId.companyId" 
								ng-required = "purchaseOrder.company">
								<option value="">--Select One--</option>
							</select>
						</div>
					</div>
					
					<div class = "form-group row">
						<div class = "col-5">
							<label for="purchaseOrderNumber">PO Number</label>
						</div>
						<div class = "col-7">
							<input  type = "text" 
									class="form-control" 
									placeholder="Eg: PO-200" 
									ng-model="purchaseOrder.purchaseOrderId.purchaseOrderNumber">
						</div>
					</div>
					
					<div class = "form-group row">
						<div class = "col-5">
							<label for="orderDate">Order Date</label>
						</div>
						<div class = "col-7">
							<input 
								type = "date" 
								class="form-control" 
								ng-model="purchaseOrder.orderDate"
								required>
						</div>
					</div>
					
					<div class = "form-group row">
						<div class = "col-5">
							<label for="additionalInformation">Comments</label>
						</div>
						
						<div class = "col-7">
							<input 
								type = "text" 
								class="form-control" 
								ng-model="purchaseOrder.additionalInformation"
								>
						</div>
					</div>
					
					
					<div class = "form-group row">
						<div class = "col-5">
							<label for="orderStatus">Status</label>
						</div>
						<div class = "col-7">
							<select 
								class = "form-control" 
								ng-model = "purchaseOrder.orderStatus" 
								ng-options="orderStatus for orderStatus in orderStatuses"
								required
								>
								<option value="">--Select One--</option>
							</select>
						</div>
					</div>
					
					<div class = "form-group row" ng-if = "purchaseOrder.orderStatus">
						<div class="col-5">
							<label for="orderStatusDate">Status Date</label>
						</div>
						<div class="col-7">
							<input 
								type = "date" 
								class="form-control" 
								placeholder="Eg: dd-mm-yyyy" 
								ng-model="purchaseOrder.orderStatusDate"
								ng-required = "purchaseOrder.orderStatus"
								>
						</div>
					</div>
					
					
					<div class = "row">
						<button class = "btn btn-info" type = "button" ng-click="addItem()">Add Item</button>
					</div>
					
					<table class = "table table-condensed" ng-if='purchaseOrder.items.length > 0'>
						<thead>
							<tr>
								<td>Item Name</td>
								<td>Quantity</td>
								<td>Unit (UOM)</td>
								<td>Price</td>
								<td>Comments</td>
								<td>Action</td>							
							</tr>							
						</thead>
						
						<tbody>
							<tr ng-repeat="item in purchaseOrder.items">
								<td class = "form-control form-control-sm">
									<select
										ng-model = "purchaseOrder.items[$index].orderItem.orderItemId.item"
										ng-options = "item as item.itemName disable when itemAlreadySelected(item) for item in items | orderBy: 'itemName' "
										required
										>
										<option value="" data-id="null">---Select One----</option>
									</select>
								</td>
								
								<td>
									<input
										class = "small" 	
										type = "number"
										ng-model = "purchaseOrder.items[$index].quantity"
										min="0"
										required>
								</td>
								
								<td>
									<select  
										class = "form-control form-control-sm"
										ng-options = "uom for uom in uoms"
										ng-model = "purchaseOrder.items[$index].unitOfMeasurement"
										required>
								</select>
								</td>
								
								<td></td>
								
								<td></td>
								
								<td>
									<button 
										class = "btn btn-danger btn-sm" 
										ng-click = "deleteItem($index)"
										type = "button">Delete</button>
								</td>
							</tr>
						</tbody>
						
					</table>
					
					<!-- <div class = "form-group" ng-repeat="item in purchaseOrder.items">
						<div class = "row">
							<div class="col-2">
								<select
									class="form-control"
									ng-options = "item as item.itemName for item in items | orderBy: 'itemName' disable when $ctrl.itemIsAlreadySelected(item) track by item.itemId"
									ng-model = "purchaseOrder.items[$index]"
									required
									>
								</select>
							</div>
							
							<div class="col-2">
								
							</div>
							
							<div class="col-2">
								<select  
									class = "form-control"
									ng-options = "uom for uom in uoms"
									required>
								</select>
							</div>
							
							<button class = "btn btn-danger btn-sm" ng-click = "deleteItem($index)">Delete item</button>
						</div>
					</div> -->
					
					
					<div class = "form-group row">
					 	<div class = "col-5">
					 		<button type="submit" class="btn btn-primary">Save Purchase Order</button>
					 	</div>
					 	
					 </div>
					 
				</div>
					
			</form>
		</div>
		
	</div>
</div>